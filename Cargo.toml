[package]
name = "canton"
version = "0.1.0"
edition = "2021"
default-run = "canton"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html


[dependencies]
anyhow = "1.0.75"
bevy = { version = "0.11", features = [
	"bevy_asset",
	"bevy_scene",
	"trace",
], default-features = false }
clap = { version = "4.4.6", features = ["derive"] }
futures = "0.3.28"
sqlx = { version = "*", features = [
	"runtime-tokio",
	"tls-rustls",
	"sqlite",
	"chrono",
] }
tellem = "0.2.0"
tokio = { version = "1.32.0", features = [
	"macros",
	"rt-multi-thread",
	"net",
	"io-util",
	"tokio-macros",
	"tracing",
] }
tokio-util = { version = "0.7.9", features = ["codec"] }
tracing = { version = "0.1.37", features = ["async-await"] }
tracing-subscriber = { version = "0.3.17", features = ["env-filter"] }
bytes = "1.5.0"
bcrypt = "0.15.0"
tokio-stream = "0.1.14"
signal-hook = "0.3.17"
libc = "0.2.149"
serde = "1.0.189"
ron = "0.8.1"
ratatui = { version = "0.24.0", default-features = false }
ansi_term = "0.12.1"
bevy_mod_scripting = { version = "0.3.0", features = [
	"luajit",
	"teal",
	"lua_script_api",
], git = "https://github.com/makspll/bevy_mod_scripting" }
bevy_mod_scripting_lua = { git = "https://github.com/makspll/bevy_mod_scripting", version = "0.3.0", features = [
	"luajit",
	"teal",
] }
ngrok = { version = "0.14.0-pre.8" }
tracing-tracy = { version = "0.10.4", features = ["ondemand"], optional = true }
tracing-error = "0.2.0"
tracy-client = { version = "0.16.3", optional = true }

[features]
tracy_memory = ["tracy", "tracy-client"]
tracy = ["tracing-tracy"]
default = ["tracy"]

# [patch.'https://github.com/makspll/bevy_mod_scripting']
# bevy_mod_scripting = { path = "../../../github.com/makspll/bevy_mod_scripting" }
# bevy_mod_scripting_lua = { path = "../../../github.com/makspll/bevy_mod_scripting/languages/bevy_mod_scripting_lua" }
# bevy_mod_scripting_core = { path = "../../../github.com/makspll/bevy_mod_scripting/bevy_mod_scripting_core" }
# bevy_script_api = { path = "../../../github.com/makspll/bevy_mod_scripting/bevy_script_api" }

# [patch.crates-io]
# tracy-client = { path = "../../../github.com/nagisa/rust_tracy_client/tracy-client" }
